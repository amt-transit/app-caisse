<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1000">
    <title>Tableau de Bord - Caisse</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
    </head>
<body style="display:none">
    <header class="app-header">
        <img src="LOGOAMT.png" alt="Logo" class="app-logo">
        <h1>Tableau de Bord</h1> <button id="logoutBtn" style="position: absolute; right: 20px; padding: 8px 15px; cursor: pointer;">Déconnexion</button>
    </header>

    <nav class="navigation">
        <a href="index.html">Saisie</a>
        <a href="dashboard.html" id="nav-dashboard" class="active">Tableau de Bord</a>
        <a href="history.html">Historique</a>
        <a href="expenses.html" id="nav-expenses">Dépenses</a>
        <a href="other-income.html" id="nav-other-income">Autres Entrées</a>
        <a href="bank.html" id="nav-bank">Banque</a>
    </nav>

    <div class="dashboard-container">
        
        <div id="grandTotals" class="totals-container">
            <div class="total-card">
                <h3>Chiffre d'Affaires (Ventes)</h3>
                <p id="grandTotalPrix">0 CFA</p>
            </div>
            <div class="total-card">
                <h3>+ Autres Entrées</h3>
                <p id="grandTotalOtherIncome">0 CFA</p>
            </div>
            <div class="total-card">
                <h3>- Dépenses Totales</h3>
                <p id="grandTotalDepenses">0 CFA</p>
            </div>
            <div class="total-card">
                <h3>= BÉNÉFICE TOTAL</h3>
                <p id="grandTotalBenefice">0 CFA</p>
            </div>
            
            <div class="total-card">
                <h3>Total Ventes Perçues (P+A)</h3>
                <p id="grandTotalPercu">0 CFA</p>
            </div>
            <div class="total-card">
                <h3>+ Retraits Banque</h3>
                <p id="grandTotalRetraits">0 CFA</p>
            </div>
            <div class="total-card">
                <h3>- Dépôts Banque</h3>
                <p id="grandTotalDepots">0 CFA</p>
            </div>
             <div class="total-card">
                <h3>= TOTAL CAISSE (Trésorerie)</h3>
                <p id="grandTotalCaisse">0 CFA</p>
            </div>

            <div class="total-card">
                <h3>Opérations Totales</h3>
                <p id="grandTotalCount">0</p>
            </div>
            <div class="total-card">
                <h3>Dettes Clients (Reste Total)</h3>
                <p id="grandTotalReste">0 CFA</p>
            </div>
            <div class="filter-container" style="flex-grow: 2;">
                <h3>Filtrer par Période</h3>
                <div class="filter-fields">
                    <label for="startDate">Du :</label> <input type="date" id="startDate">
                    <label for="endDate">Au :</label> <input type="date" id="endDate">
                    <button id="clearFilterBtn">Réinitialiser</button>
                </div>
            </div>
        </div> 
        
        <h2 style="margin-top: 30px;">Récapitulatif par Conteneur</h2>
        <table id="containerSummaryTable">...</table>

        <h2 style="margin-top: 30px;">Récapitulatif des Mouvements de Banque</h2>
        <table id="bankMovementsTable">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Description</th>
                    <th>Type</th>
                    <th>Montant</th>
                </tr>
            </thead>
            <tbody id="bankMovementsTableBody"></tbody>
        </table>
        
        <h2 style="margin-top: 30px;">Récapitulatif des Dépenses Mensuelles</h2>
        <table id="monthlyExpensesTable">...</table>
        
        <h2>Récapitulatif par Jour (Ventes)</h2>
        <table id="summaryTable">...</table>

        <h2 style="margin-top: 30px;">Récapitulatif par Agent</h2>
        <table id="agentSummaryTable">...</table>

    </div> 
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="auth-guard.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>